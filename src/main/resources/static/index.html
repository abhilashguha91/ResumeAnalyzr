<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>ResumeAnalyzr</title>
</head>
<body background-color="#f2efe4">
	<img src="resumeAnalyzr_logo.png" alt="ResumeAnalyzr Logo"
  style="display: block; margin: 5px auto; width: 200px; height: auto;">

	<div class="container"
		style="max-width: 600px; margin: auto; padding: 20px; font-family: Arial, sans-serif;">

		<div class="form-group">
			<label for="message">Ask me something:</label>
			<textarea id="message" placeholder="Type your message here..."></textarea>
		</div>

		<div class="form-group" style="text-align: center;">
			<button id="submitBtn">Submit</button>
		</div>

		<div class="form-group">
			<textarea id="response" readonly placeholder="Response"></textarea>
		</div>
	</div>

	<footer> A Bu Chandu joint venture. </footer>
	<style>
body, html {
	height: 100%;
	margin: 0;
	background-color: #f2efe4;
}

.container {
	display: flex;
	flex-direction: column;
	height: 60%;
}

.form-group {
	margin-bottom: 15px;
}

textarea {
	width: 100%;
	height: 100px;
	padding: 10px;
	box-sizing: border-box;
	border: 2px solid #14314e;
	border-radius: 6px;
	background-color: #f9f8f3;
	/* Slightly lighter than #f2efe4 for contrast */
	color: #14314e;
	font-family: Arial, sans-serif;
	font-size: 16px;
	transition: all 0.3s ease;
	resize: vertical;
	outline: none;
}

textarea:focus {
	border-color: #14314e;
	box-shadow: 0 0 5px rgba(20, 49, 78, 0.5);
}

textarea#response {
	background-color: rgba(20, 49, 78, 0.05);
	border: 2px solid rgba(20, 49, 78, 0.3);
}

.form-group label {
	display: block;
	margin-bottom: 5px;
	color: #14314e;
	font-weight: bold;
}

button {
	padding: 12px 20px;
	font-size: 16px;
	cursor: pointer;
	background-color: #14314e;
	color: white;
	border: none;
	border-radius: 5px;
	transition: all 0.3s ease;
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

button:hover {
	background-color: #1c4268;
	transform: translateY(-2px);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

button:active {
	transform: translateY(0);
}

footer {
	text-align: center;
	margin-top: 20px;
	font-size: 14px;
	color: #777;
}
</style>


	</div>

	<script>
    document.getElementById('submitBtn').addEventListener('click', function() {
        const message = document.getElementById('message').value;
        const responseArea = document.getElementById('response');

        if (!message.trim()) {
            alert('Please enter a message');
            return;
        }

        responseArea.value = 'Loading...';

        const requestBody = {
            stream: false,
            model: 'command-a-03-2025',
            messages: [
                {
                    role: 'user',
                    content: message
                }
            ]
        };

        fetch('/resumeAnalyzr/chat', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestBody)
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            // Assuming the response contains a text property
            // Adjust according to your actual response format
            if (data.message.content[0].text) {
                responseArea.value = data.message.content[0].text;
            } else {
                responseArea.value = JSON.stringify(data, null, 2);
            }
        })
        .catch(error => {
            responseArea.value = 'Error: ' + error.message;
            console.error('Error:', error);
        });
    });
    
    document.getElementById('message').addEventListener('keydown', function(event) {
        if (event.key === 'Enter') {
            event.preventDefault(); // Prevents adding a new line in the textarea
            document.getElementById('submitBtn').click();
        }
    });
    
    </script>


</body>
</html>